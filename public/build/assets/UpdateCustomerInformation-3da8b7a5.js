import{J as q,r as f,h as D,o as u,c as d,b as a,a as l,u as s,d as y,i as g,F as v,f as _,w as U,T as S,j as C,t as V,k as N,e as j}from"./app-15dc6fea.js";import{P}from"./PrimaryButton-29033063.js";import{_ as i}from"./InputError-1f1c8eef.js";import{_ as c}from"./TextInput-c813ead4.js";import{_ as n}from"./InputLabel-83d1a3cd.js";import"./_plugin-vue_export-helper-c27b6911.js";const $=a("header",null,[a("h2",{class:"text-lg font-medium text-gray-900"},"Customer Profile Information"),a("p",{class:"mt-1 text-sm text-gray-600"}," Update the customer's profile information ")],-1),B=["value"],T={class:"mt-4"},A=["value"],E={class:"mt-4"},F=["value"],I={class:"mt-4"},K={class:"flex items-center gap-4"},M={key:0,class:"text-sm text-gray-600"},R={__name:"UpdateCustomerInformation",props:{user:{type:Object},document_types:{type:Object}},setup(h){const r=q().props.user,p=f(r.customer.city.department_id),w=f({}),b=f({}),o=D({name:r.customer.name,surname:r.customer.surname,document_type:r.customer.document_type,document:r.customer.document,email:r.email,phone:r.customer.phone,city_id:r.customer.city_id,address:r.customer.address}),x=m=>{const t=["0","1","2","3","4","5","6","7","8","9","."],e=m.key;t.includes(e)||m.preventDefault()},k=async()=>{const m=await fetch(route("cities",p.value));w.value=await m.json()};return(async()=>{const m=await fetch(route("departments"));b.value=await m.json()})(),k(),(m,t)=>(u(),d("section",null,[$,a("form",{onSubmit:t[12]||(t[12]=C(e=>s(o).put(m.route("admin.customer.update",s(r).id),{preserveScroll:!0}),["prevent"])),class:"mt-6 space-y-6 max-w-xl"},[a("div",null,[l(n,{for:"name",value:"Name"}),l(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(o).name,"onUpdate:modelValue":t[0]||(t[0]=e=>s(o).name=e),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.name},null,8,["message"])]),a("div",null,[l(n,{for:"surname",value:"Surname"}),l(c,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:s(o).surname,"onUpdate:modelValue":t[1]||(t[1]=e=>s(o).surname=e),autocomplete:"surname",required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.surname},null,8,["message"])]),a("div",null,[l(n,{for:"document_type",value:"Document Type"}),y(a("select",{id:"document_type",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":t[2]||(t[2]=e=>s(o).document_type=e),required:"",autocomplete:"document_type"},[(u(!0),d(v,null,_(h.document_types,e=>(u(),d("option",{value:e},V(e),9,B))),256))],512),[[g,s(o).document_type]]),l(i,{class:"mt-2",message:s(o).errors.document_type},null,8,["message"])]),a("div",null,[l(n,{for:"document",value:"Document"}),l(c,{id:"document",type:"text",class:"mt-1 block w-full",modelValue:s(o).document,"onUpdate:modelValue":t[3]||(t[3]=e=>s(o).document=e),autocomplete:"document",maxlength:"11",onKeypress:t[4]||(t[4]=e=>x(e)),required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.document},null,8,["message"])]),a("div",null,[l(n,{for:"email",value:"Email"}),l(c,{id:"email",type:"email",class:"mt-1 block w-full cursor-not-allowed bg-gray-100",disabled:"",modelValue:s(o).email,"onUpdate:modelValue":t[5]||(t[5]=e=>s(o).email=e),required:"",autocomplete:"username"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.email},null,8,["message"])]),a("div",null,[l(n,{for:"phone",value:"Phone"}),l(c,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:s(o).phone,"onUpdate:modelValue":t[6]||(t[6]=e=>s(o).phone=e),autocomplete:"phone",maxlength:"10",onKeypress:t[7]||(t[7]=e=>x(e))},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.phone},null,8,["message"])]),a("div",T,[l(n,{for:"department",value:"Department"}),y(a("select",{id:"department",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":t[8]||(t[8]=e=>p.value=e),required:"",onChange:t[9]||(t[9]=e=>k())},[(u(!0),d(v,null,_(b.value,e=>(u(),d("option",{value:e.id},V(e.name),9,A))),256))],544),[[g,p.value]])]),a("div",E,[l(n,{for:"city_id",value:"City"}),y(a("select",{id:"city_id",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":t[10]||(t[10]=e=>s(o).city_id=e),required:"",autocomplete:"city_id"},[(u(!0),d(v,null,_(w.value,e=>(u(),d("option",{value:e.id},V(e.name),9,F))),256))],512),[[g,s(o).city_id,void 0,{number:!0}]]),l(i,{class:"mt-2",message:s(o).errors.city_id},null,8,["message"])]),a("div",I,[l(n,{for:"address",value:"Address"}),l(c,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:s(o).address,"onUpdate:modelValue":t[11]||(t[11]=e=>s(o).address=e),required:"",autocomplete:"adress"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(o).errors.address},null,8,["message"])]),a("div",K,[l(P,{disabled:s(o).processing},{default:U(()=>[N("Save")]),_:1},8,["disabled"]),l(S,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:U(()=>[s(o).recentlySuccessful?(u(),d("p",M,"Saved.")):j("",!0)]),_:1})])],32)]))}};export{R as default};
