import{h as j,r as f,o as u,g as C,w as c,a as t,u as o,X as P,b as l,d as g,i as _,c as i,f as w,t as y,F as v,k as x,n as B,y as N,j as S}from"./app-58c3ca15.js";import{_ as $}from"./GuestLayout-400e8d5a.js";import{_ as r}from"./InputError-dc24760a.js";import{_ as n}from"./InputLabel-69ab2fd7.js";import{P as A}from"./PrimaryButton-02a4193a.js";import{_ as m}from"./TextInput-7ce8902b.js";import"./ResponsiveNavLink-46f1027e.js";import"./_plugin-vue_export-helper-c27b6911.js";const F=l("title",null,"Registration",-1),R=["onSubmit"],E={class:"mt-4"},K={class:"mt-4"},M=["value"],T={class:"mt-4"},z={class:"mt-4"},L={class:"mt-4"},O={class:"mt-4"},X=["value"],G={class:"mt-4"},H=["value"],I={class:"mt-4"},J={class:"mt-4"},Q={class:"mt-4"},W={class:"flex items-center justify-end mt-4 justify-between"},re={__name:"Register",props:{document_types:{type:Object}},setup(h){const s=j({name:"",surname:"",document:"",document_type:"",email:"",phone:"",address:"",city_id:0,password:"",password_confirmation:"",terms:!1}),p=f(0),V=f({}),b=f({}),U=async()=>{const d=await fetch(route("cities",p.value));V.value=await d.json()},q=async()=>{const d=await fetch(route("departments"));b.value=await d.json()},D=()=>{s.post(route("register"),{onFinish:()=>s.reset("password","password_confirmation")})},k=d=>{const a=["0","1","2","3","4","5","6","7","8","9","."],e=d.key;a.includes(e)||d.preventDefault()};return q(),(d,a)=>(u(),C($,null,{default:c(()=>[t(o(P),null,{default:c(()=>[F]),_:1}),l("form",{onSubmit:S(D,["prevent"])},[l("div",null,[t(n,{for:"name",value:"Name"}),t(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(s).name,"onUpdate:modelValue":a[0]||(a[0]=e=>o(s).name=e),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.name},null,8,["message"])]),l("div",E,[t(n,{for:"surname",value:"Surname"}),t(m,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:o(s).surname,"onUpdate:modelValue":a[1]||(a[1]=e=>o(s).surname=e),required:"",autocomplete:"surname"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.surname},null,8,["message"])]),l("div",K,[t(n,{for:"document_type",value:"Document Type"}),g(l("select",{id:"document_type",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":a[2]||(a[2]=e=>o(s).document_type=e),required:"",autocomplete:"document_type"},[(u(!0),i(v,null,w(h.document_types,e=>(u(),i("option",{value:e},y(e),9,M))),256))],512),[[_,o(s).document_type]]),t(r,{class:"mt-2",message:o(s).errors.document_type},null,8,["message"])]),l("div",T,[t(n,{for:"document",value:"Document"}),t(m,{id:"document",type:"text",class:"mt-1 block w-full",modelValue:o(s).document,"onUpdate:modelValue":a[3]||(a[3]=e=>o(s).document=e),required:"",autocomplete:"document",maxlength:"10",onKeypress:a[4]||(a[4]=e=>k(e))},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.document},null,8,["message"])]),l("div",z,[t(n,{for:"email",value:"Email"}),t(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(s).email,"onUpdate:modelValue":a[5]||(a[5]=e=>o(s).email=e),required:"",autocomplete:"username"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.email},null,8,["message"])]),l("div",L,[t(n,{for:"phone",value:"Phone"}),t(m,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:o(s).phone,"onUpdate:modelValue":a[6]||(a[6]=e=>o(s).phone=e),autocomplete:"phone",maxlength:"10",onKeypress:a[7]||(a[7]=e=>k(e))},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.phone},null,8,["message"])]),l("div",O,[t(n,{for:"department",value:"Department"}),g(l("select",{id:"department",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":a[8]||(a[8]=e=>p.value=e),required:"",onChange:a[9]||(a[9]=e=>U())},[(u(!0),i(v,null,w(b.value,e=>(u(),i("option",{value:e.id},y(e.name),9,X))),256))],544),[[_,p.value]])]),l("div",G,[t(n,{for:"city_id",value:"City"}),g(l("select",{id:"city_id",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":a[10]||(a[10]=e=>o(s).city_id=e),required:"",autocomplete:"city_id"},[(u(!0),i(v,null,w(V.value,e=>(u(),i("option",{value:e.id},y(e.name),9,H))),256))],512),[[_,o(s).city_id,void 0,{number:!0}]]),t(r,{class:"mt-2",message:o(s).errors.city_id},null,8,["message"])]),l("div",I,[t(n,{for:"address",value:"Address"}),t(m,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(s).address,"onUpdate:modelValue":a[11]||(a[11]=e=>o(s).address=e),required:"",autocomplete:"adress"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.address},null,8,["message"])]),l("div",J,[t(n,{for:"password",value:"Password"}),t(m,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:o(s).password,"onUpdate:modelValue":a[12]||(a[12]=e=>o(s).password=e),required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.password},null,8,["message"])]),l("div",Q,[t(n,{for:"password_confirmation",value:"Confirm Password"}),t(m,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:o(s).password_confirmation,"onUpdate:modelValue":a[13]||(a[13]=e=>o(s).password_confirmation=e),required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(r,{class:"mt-2",message:o(s).errors.password_confirmation},null,8,["message"])]),l("div",W,[t(o(B),{href:d.route("login"),class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>[x(" Already registered? ")]),_:1},8,["href"]),t(A,{class:N(["ml-4",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:c(()=>[x(" Register ")]),_:1},8,["class","disabled"])]),t(r,{class:"mt-5",message:o(s).errors.app},null,8,["message"])],40,R)]),_:1}))}};export{re as default};
