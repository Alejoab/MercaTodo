import{J as D,r as f,h as C,o as m,c as d,b as l,a,u as t,d as y,i as x,F as k,f as h,k as v,w as g,l as N,e as U,T as P,j as B,t as S,n as $}from"./app-32a5c4fa.js";import{_ as i}from"./InputError-499f6de0.js";import{_ as u}from"./InputLabel-609d8761.js";import{P as j}from"./PrimaryButton-e8cde6a0.js";import{_ as c}from"./TextInput-9f124e2f.js";import"./_plugin-vue_export-helper-c27b6911.js";const E=l("header",null,[l("h2",{class:"text-lg font-medium text-gray-900"},"Profile Information"),l("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1),T={class:"mt-4"},A=["value"],F={class:"mt-4"},I=["value"],M={class:"mt-4"},J={key:0},K={class:"text-sm mt-2 text-gray-800"},L={class:"mt-2 font-medium text-sm text-green-600"},O={class:"flex items-center gap-4"},Y={key:0,class:"text-sm text-gray-600"},Z={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String},user:{type:Object}},setup(_){const r=D().props.user,p=f(r.customer.city.department_id),V=f({}),b=f({}),s=C({name:r.customer.name,surname:r.customer.surname,document_type:r.customer.document_type,document:r.customer.document,email:r.email,phone:r.customer.phone,city_id:r.customer.city_id,address:r.customer.address}),q=n=>{const o=["0","1","2","3","4","5","6","7","8","9","."],e=n.key;o.includes(e)||n.preventDefault()},w=async()=>{const n=await fetch(route("cities",p.value));V.value=await n.json()};return(async()=>{const n=await fetch(route("departments"));b.value=await n.json()})(),w(),(n,o)=>(m(),d("section",null,[E,l("form",{onSubmit:o[11]||(o[11]=B(e=>t(s).put(n.route("profile.update"),{preserveScroll:!0}),["prevent"])),class:"mt-6 space-y-6"},[l("div",null,[a(u,{for:"name",value:"Name"}),a(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(s).name,"onUpdate:modelValue":o[0]||(o[0]=e=>t(s).name=e),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(s).errors.name},null,8,["message"])]),l("div",null,[a(u,{for:"surname",value:"Surname"}),a(c,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:t(s).surname,"onUpdate:modelValue":o[1]||(o[1]=e=>t(s).surname=e),autocomplete:"surname",required:""},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(s).errors.surname},null,8,["message"])]),l("div",null,[a(u,{for:"document_type",value:"Document Type"}),a(c,{id:"document_type",type:"text",class:"mt-1 block w-full cursor-not-allowed bg-gray-100",disabled:"",modelValue:t(s).document_type,"onUpdate:modelValue":o[2]||(o[2]=e=>t(s).document_type=e),autocomplete:"document_type",required:""},null,8,["modelValue"])]),l("div",null,[a(u,{for:"document",value:"Document"}),a(c,{id:"document",type:"text",class:"mt-1 block w-full cursor-not-allowed bg-gray-100",disabled:"",modelValue:t(s).document,"onUpdate:modelValue":o[3]||(o[3]=e=>t(s).document=e),autocomplete:"document",required:""},null,8,["modelValue"])]),l("div",null,[a(u,{for:"email",value:"Email"}),a(c,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(s).email,"onUpdate:modelValue":o[4]||(o[4]=e=>t(s).email=e),required:"",autocomplete:"username"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(s).errors.email},null,8,["message"])]),l("div",null,[a(u,{for:"phone",value:"Phone"}),a(c,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:t(s).phone,"onUpdate:modelValue":o[5]||(o[5]=e=>t(s).phone=e),autocomplete:"phone",maxlength:"10",onKeypress:o[6]||(o[6]=e=>q(e))},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(s).errors.phone},null,8,["message"])]),l("div",T,[a(u,{for:"department",value:"Department"}),y(l("select",{id:"department",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":o[7]||(o[7]=e=>p.value=e),required:"",onChange:o[8]||(o[8]=e=>w())},[(m(!0),d(k,null,h(b.value,e=>(m(),d("option",{value:e.id},S(e.name),9,A))),256))],544),[[x,p.value]])]),l("div",F,[a(u,{for:"city_id",value:"City"}),y(l("select",{id:"city_id",class:"mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full","onUpdate:modelValue":o[9]||(o[9]=e=>t(s).city_id=e),required:"",autocomplete:"city_id"},[(m(!0),d(k,null,h(V.value,e=>(m(),d("option",{value:e.id},S(e.name),9,I))),256))],512),[[x,t(s).city_id,void 0,{number:!0}]]),a(i,{class:"mt-2",message:t(s).errors.city_id},null,8,["message"])]),l("div",M,[a(u,{for:"address",value:"Address"}),a(c,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:t(s).address,"onUpdate:modelValue":o[10]||(o[10]=e=>t(s).address=e),required:"",autocomplete:"adress"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(s).errors.address},null,8,["message"])]),_.mustVerifyEmail&&t(r).email_verified_at===null?(m(),d("div",J,[l("p",K,[v(" Your email address is unverified. "),a(t($),{href:n.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:g(()=>[v(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),y(l("div",L," A new verification link has been sent to your email address. ",512),[[N,_.status==="verification-link-sent"]])])):U("",!0),l("div",O,[a(j,{disabled:t(s).processing},{default:g(()=>[v("Save")]),_:1},8,["disabled"]),a(P,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:g(()=>[t(s).recentlySuccessful?(m(),d("p",Y,"Saved.")):U("",!0)]),_:1})]),a(i,{class:"mt-2",message:t(s).errors.app},null,8,["message"])],32)]))}};export{Z as default};
