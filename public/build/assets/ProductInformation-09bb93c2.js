import{r as y,h as C,o as c,c as p,b as l,a as t,u as s,d as f,v as S,l as _,F as w,f as h,w as T,j as q,t as k,k as M}from"./app-32a5c4fa.js";import{_ as i}from"./TextInput-9f124e2f.js";import{_ as n}from"./InputError-499f6de0.js";import{_ as u}from"./InputLabel-609d8761.js";import{P as N}from"./PrimaryButton-e8cde6a0.js";import"./_plugin-vue_export-helper-c27b6911.js";const D=l("header",null,[l("h2",{class:"text-lg font-medium text-gray-900"},"Create New Product"),l("p",{class:"mt-1 text-sm text-gray-600"}," Complete the product information ")],-1),I={class:"grid grid-cols-1 gap-12 sm:grid-cols-2 mt-6"},j={class:"space-y-6"},z={class:"relative"},F={class:"bg-gray-100 mt-0.5 w-full absolute border border-gray-300 rounded overflow-y-auto max-h-32 z-50 shadow-sm"},A=["onMousedown"],L={class:"relative"},R={class:"bg-gray-100 mt-0.5 w-full absolute border border-gray-300 rounded overflow-y-auto max-h-32 z-50 shadow-sm"},E=["onMousedown"],K={class:"mt-5"},G=["src"],H={class:"grid-cols-2 flex space-x-4"},ee={__name:"ProductInformation",setup(J){const m=y([]),d=y([]),v=y(null);let g=null;const e=C({code:"",name:"",description:"",price:"",stock:"",category_name:"",brand_name:"",image:null}),V=r=>{e.category_name=r,m.value=[]},x=async()=>{clearTimeout(g),e.category_name.length>=2?g=setTimeout(async()=>{let r=await fetch(route("admin.categories.search",{search:e.category_name}));m.value=await r.json()},200):m.value=[]},B=r=>{e.brand_name=r,d.value=[]},P=async()=>{clearTimeout(g),e.brand_name.length>=2?g=setTimeout(async()=>{let r=await fetch(route("admin.brands.search",{search:e.brand_name}));d.value=await r.json()},200):d.value=[]},U=r=>{e.image=r.target.files[0];let o=r.target.files[0],a=new FileReader;a.onloadend=b=>{v.value=a.result},a.readAsDataURL(o)},$=r=>{const o=new Set(["1","2","3","4","5","6","7","8","9","0","."]),a=r.key;o.has(a)||r.preventDefault()};return(r,o)=>(c(),p("section",null,[D,l("form",{onSubmit:o[9]||(o[9]=q(a=>s(e).post(r.route("admin.products.create"),{preserveScroll:!0}),["prevent"]))},[l("div",I,[l("div",j,[l("div",null,[t(u,{for:"code",value:"Code"}),t(i,{id:"code",modelValue:s(e).code,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).code=a),autocomplete:"code",autofocus:"",class:"mt-1 block w-full",maxlength:"6",required:"",type:"text"},null,8,["modelValue"]),t(n,{message:s(e).errors.code,class:"mt-2"},null,8,["message"])]),l("div",null,[t(u,{for:"name",value:"Name"}),t(i,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).name=a),autocomplete:"name",autofocus:"",class:"mt-1 block w-full",required:"",type:"text"},null,8,["modelValue"]),t(n,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),l("div",null,[t(u,{for:"description",value:"Description"}),f(l("textarea",{id:"description","onUpdate:modelValue":o[2]||(o[2]=a=>s(e).description=a),autocomplete:"description",autofocus:"",class:"mt-1 block w-full whitespace-normal resize-none h-40 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",type:"text"},null,512),[[S,s(e).description]]),t(n,{message:s(e).errors.description,class:"mt-2"},null,8,["message"])]),l("div",z,[t(u,{for:"category_name",value:"Category"}),t(i,{id:"category_name",modelValue:s(e).category_name,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).category_name=a),onkeyup:x,autocomplete:"category_name",autofocus:"",class:"mt-1 block w-full",required:"",type:"text",onBlur:o[4]||(o[4]=a=>m.value=[])},null,8,["modelValue"]),f(l("ul",F,[(c(!0),p(w,null,h(m.value,a=>(c(),p("li",{class:"hover:bg-blue-300 pl-3 py-1",onMousedown:b=>V(a.name)},k(a.name),41,A))),256))],512),[[_,m.value.length]]),t(n,{message:s(e).errors.category_name,class:"mt-2"},null,8,["message"])]),l("div",L,[t(u,{for:"brand_name",value:"Brand"}),t(i,{id:"brand_name",modelValue:s(e).brand_name,"onUpdate:modelValue":o[5]||(o[5]=a=>s(e).brand_name=a),onkeyup:P,autocomplete:"brand_name",autofocus:"",class:"mt-1 block w-full",required:"",type:"text",onBlur:o[6]||(o[6]=a=>d.value=[])},null,8,["modelValue"]),f(l("ul",R,[(c(!0),p(w,null,h(d.value,a=>(c(),p("li",{class:"hover:bg-blue-300 pl-3 py-1",onMousedown:b=>B(a.name)},k(a.name),41,E))),256))],512),[[_,d.value.length]]),t(n,{message:s(e).errors.category_name,class:"mt-2"},null,8,["message"])]),l("div",null,[t(u,{for:"price",value:"Price"}),t(i,{id:"price",modelValue:s(e).price,"onUpdate:modelValue":o[7]||(o[7]=a=>s(e).price=a),autocomplete:"price",autofocus:"",class:"mt-1 block w-full",required:"",type:"text",onKeypress:$},null,8,["modelValue"]),t(n,{message:s(e).errors.price,class:"mt-2"},null,8,["message"])]),l("div",null,[t(u,{for:"stock",value:"Stock"}),t(i,{id:"stock",modelValue:s(e).stock,"onUpdate:modelValue":o[8]||(o[8]=a=>s(e).stock=a),autocomplete:"stock",autofocus:"",class:"mt-1 block w-full",required:"",type:"number"},null,8,["modelValue"]),t(n,{message:s(e).errors.stock,class:"mt-2"},null,8,["message"])])]),l("div",null,[t(u,{for:"image",value:"Please select an image"}),l("input",{id:"image",accept:"image/x-png, image/jpeg",class:"mt-2.5",name:"Product Image",type:"file",onInput:U},null,32),t(n,{message:s(e).errors.image,class:"mt-2"},null,8,["message"]),f(l("div",K,[l("img",{src:v.value,alt:"Product Image"},null,8,G)],512),[[_,v.value]])]),l("div",H,[t(N,{disabled:s(e).processing},{default:T(()=>[M("Save")]),_:1},8,["disabled"]),t(n,{message:s(e).errors.app,class:"mt-2"},null,8,["message"])])])],32)]))}};export{ee as default};
