import{o as a,c as r,b as t,h as v,r as _,a as s,w as h,u,F as f,X as k,f as $,g as C,k as g,t as o}from"./app-32a5c4fa.js";import{_ as P}from"./UserLayout-97946590.js";import B from"./ProductCart-6ef7cc20.js";import{_ as x}from"./InputError-499f6de0.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-34f70eb1.js";import"./Dropdown-8a285acd.js";import"./CounterStore-5c42db56.js";const V={},F={class:"flex justify-center items-center"},q=t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0
                  12h4zm2 5.291A7.962 7.962 0 014 12H0c0
                  3.042 1.135 5.824 3 7.938l3-2.647z`})],-1),L=t("span",{class:"text-gray-900 font-semibold text-xl"},"Loading...",-1),M=[q,L];function N(e,m){return a(),r("div",F,M)}const j=S(V,[["render",N]]),z=t("title",null,"Cart",-1),A={key:0,class:"flex flex-col lg:flex-row m-auto xl:px-10 lg:space-x-7"},D={class:"w-full bg-white mt-5 pb-5 rounded-2xl px-8 pt-5"},E=t("h1",{class:"text-2xl md:text-3xl lg:text-4xl font-bold mb-10"},"Shopping Carts",-1),T={class:"text-xl pt-7 pr-3 text-end"},H={class:"w-full max-w-md bg-white mt-5 pb-10 rounded-2xl px-10 h-fit mx-auto"},U={class:"text-xl pt-7 pr-3"},X=["disabled"],G={key:1,class:"py-12 flex justify-between"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6 p-4 sm:p-8 bg-white shadow sm:rounded-lg"},tt={__name:"ViewCart",props:{cart:{type:Array,required:!0}},setup(e){const m=e,c=v({paymentMethod:"PlaceToPay"}),p=_(m.cart.reduce((i,l)=>i+l.price*l.quantity,0)),n=_(!1),b=i=>{location.reload()},y=i=>{p.value=m.cart.reduce((l,d)=>l+d.price*d.quantity,0)},w=()=>{n.value=!0,c.post(route("cart.buy"),{onError:()=>{n.value=!1}})};return(i,l)=>(a(),r(f,null,[s(u(k),null,{default:h(()=>[z]),_:1}),s(P,null,{default:h(()=>[n.value?(a(),r("div",G,[t("div",I,[s(j)])])):(a(),r("div",A,[t("div",D,[E,(a(!0),r(f,null,$(e.cart,d=>(a(),C(B,{product:d,onDeleteProduct:b,onUpdateProduct:y},null,8,["product"]))),256)),t("h2",T,[g("Subtotal ("+o(e.cart.length)+" "+o(e.cart.length!==1?"items":"item")+"): ",1),t("strong",null,"$ "+o(p.value.toFixed(2)),1)])]),t("div",H,[t("h2",U,[g("Subtotal ("+o(e.cart.length)+" "+o(e.cart.length!==1?"items":"item")+"): ",1),t("strong",null,"$ "+o(p.value.toFixed(2)),1)]),t("button",{class:"bg-amber-300 w-full p-1 rounded-lg mt-5 active:bg-amber-400 font-semibold",disabled:n.value,onClick:w}," Proceed to checkout ",8,X),s(x,{message:u(c).errors.paymentMethod,class:"mt-4 ml-6"},null,8,["message"]),s(x,{message:u(c).errors.payment,class:"mt-4 ml-6"},null,8,["message"]),s(x,{message:u(c).errors.app,class:"mt-2"},null,8,["message"])])]))]),_:1})],64))}};export{tt as default};
