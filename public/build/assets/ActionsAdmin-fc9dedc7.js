import{J as b,r as m,h as D,o as v,c as g,b as s,u as r,a as t,w as o,g as U,x as B,k as a,y as V,z as j}from"./app-32a5c4fa.js";import{D as f}from"./DangerButton-123fe33b.js";import{_ as I}from"./TextInput-9f124e2f.js";import{_ as O}from"./InputLabel-609d8761.js";import{_ as S}from"./InputError-499f6de0.js";import{_ as w}from"./SecondaryButton-6421a108.js";import{_ as h}from"./Modal-4e9485ed.js";import{S as k}from"./SuccessButton-d7ad6163.js";import"./_plugin-vue_export-helper-c27b6911.js";const K=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900"},"Actions")],-1),N={class:"mt-4"},P={key:0},z={class:"p-6"},E=s("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete the account? ",-1),F=s("p",{class:"mt-1 text-sm text-gray-600"}," Once the account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete the account. ",-1),R={class:"mt-6"},T={class:"mt-6 flex justify-end"},J={class:"p-6"},M=s("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete the account? ",-1),q=s("p",{class:"mt-1 text-sm text-gray-600"}," Once you delete this account, it will only be disabled for the user, but the information will still be stored. ",-1),G={class:"mt-6 flex justify-end"},H={class:"p-6"},L=s("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to restore the account? ",-1),Q=s("p",{class:"mt-1 text-sm text-gray-600"}," Once you restore the account the user will have access to it again. ",-1),W={class:"mt-6 flex justify-end"},re={__name:"ActionsAdmin",props:{user:{type:Object}},setup(X){const u=b().props.user,_=m(!1),p=m(null),i=m(""),d=m(""),C=async c=>{i.value="",await axios.delete(route("admin.user.destroy",c)),window.location.href=route("admin.users")},$=async c=>{d.value="",await axios.put(route("admin.user.restore",c)),window.location.href=route("admin.users")},n=D({password:""}),A=()=>{_.value=!0,B(()=>p.value.focus())},x=()=>{n.delete(route("admin.user.force-delete",u.id),{preserveScroll:!0,onSuccess:()=>y(),onError:()=>p.value.focus(),onFinish:()=>n.reset()})},y=()=>{_.value=!1,n.reset()};return(c,e)=>(v(),g("section",null,[K,s("div",N,[r(u).deleted_at?(v(),g("div",P,[t(k,{class:"mr-5",onClick:e[0]||(e[0]=l=>d.value=r(u).id)},{default:o(()=>[a("Restore Account")]),_:1}),t(f,{onClick:A},{default:o(()=>[a(" Force Delete Account")]),_:1})])):(v(),U(f,{key:1,onClick:e[1]||(e[1]=l=>i.value=r(u).id)},{default:o(()=>[a("Delete Account")]),_:1}))]),t(h,{show:_.value,onClose:y},{default:o(()=>[s("div",z,[E,F,s("div",R,[t(O,{class:"sr-only",for:"password",value:"Password"}),t(I,{id:"password",ref_key:"passwordInput",ref:p,modelValue:r(n).password,"onUpdate:modelValue":e[2]||(e[2]=l=>r(n).password=l),class:"mt-1 block w-3/4",placeholder:"Password",type:"password",onKeyup:V(x,["enter"])},null,8,["modelValue","onKeyup"]),t(S,{message:r(n).errors.password,class:"mt-2"},null,8,["message"])]),s("div",T,[t(w,{onClick:y},{default:o(()=>[a(" Cancel")]),_:1}),t(f,{class:j([{"opacity-25":r(n).processing},"ml-3"]),disabled:r(n).processing,onClick:x},{default:o(()=>[a(" Delete Account ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"]),t(h,{show:!!i.value,onClose:e[5]||(e[5]=l=>i.value="")},{default:o(()=>[s("div",J,[M,q,s("div",G,[t(w,{onClick:e[3]||(e[3]=l=>i.value="")},{default:o(()=>[a(" Cancel")]),_:1}),t(f,{class:"ml-3",onClick:e[4]||(e[4]=l=>C(i.value))},{default:o(()=>[a(" Delete Account ")]),_:1})])])]),_:1},8,["show"]),t(h,{show:!!d.value,onClose:e[8]||(e[8]=l=>d.value="")},{default:o(()=>[s("div",H,[L,Q,s("div",W,[t(w,{onClick:e[6]||(e[6]=l=>d.value="")},{default:o(()=>[a(" Cancel")]),_:1}),t(k,{class:"ml-3",onClick:e[7]||(e[7]=l=>$(d.value))},{default:o(()=>[a(" Restore Account ")]),_:1})])])]),_:1},8,["show"])]))}};export{re as default};
