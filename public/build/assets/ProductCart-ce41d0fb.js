import{h as m,o as h,c as x,b as t,t as l,k as g,d as u,v as f,u as r,l as b,a as v}from"./app-15dc6fea.js";import{_}from"./InputError-1f1c8eef.js";const k={class:"w-full flex border-b-2 border-t-2 py-3 relative"},w=t("svg",{class:"h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",width:"24"},[t("path",{d:"M0 0h24v24H0z",stroke:"none"}),t("line",{x1:"18",x2:"6",y1:"6",y2:"18"}),t("line",{x1:"6",x2:"18",y1:"6",y2:"18"})],-1),q=[w],P=["alt","src"],S={class:"flex justify-between w-full"},B={class:"my-auto pl-5"},C={class:"font-semibold text-xl text-black leading-tight pl-3"},N={class:"text-gray-400 pl-3"},V=t("br",null,null,-1),j={class:"text-xl font-bold pt-7 pr-3"},M={__name:"ProductCart",props:{product:{type:Object,required:!0}},emits:["updateProduct","deleteProduct"],setup(e,{emit:c}){const s=e,o=m({product_id:s.product.id,quantity:s.product.quantity}),i=d=>{const n=new Set(["1","2","3","4","5","6","7","8","9","0"]),a=d.key;n.has(a)||d.preventDefault()},p=async()=>{o.post(route("cart.add"),{preserveScroll:!0,onSuccess:()=>{s.product.quantity=o.quantity,c("updateProduct",s.product.id)},onError:()=>{}})},y=async()=>{(await axios.delete(route("cart.delete",{product_id:s.product.id}))).status===200&&c("deleteProduct",s.product.id)};return(d,n)=>(h(),x("div",k,[t("button",{class:"absolute top-2 right-0",onClick:y},q),t("div",null,[t("img",{alt:e.product.name,src:e.product.image?"/storage/product_images/"+e.product.image:"/default/no_product_image.png",class:"w-80 rounded-lg"},null,8,P)]),t("div",S,[t("div",B,[t("div",null,[t("h1",C,l(e.product.name),1),t("span",N,l(e.product.brand),1),g(),V]),t("div",null,[u(t("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>r(o).quantity=a),class:"border border-gray-300 rounded-md px-1 py-1 focus:border-indigo-700 mt-5",type:"text",onKeypress:i},null,544),[[f,r(o).quantity,void 0,{number:!0}]]),u(t("button",{class:"text-gray-500 underline ml-3",onClick:p}," Update ",512),[[b,r(o).quantity!==e.product.quantity&&r(o).quantity!==""]])]),v(_,{class:"mt-2",message:r(o).errors.quantity},null,8,["message"])]),t("div",null,[t("h2",j,"$ "+l(e.product.price),1)])])]))}};export{M as default};
